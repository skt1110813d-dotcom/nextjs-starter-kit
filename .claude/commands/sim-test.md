---
description: '페이지를 테스트하여 오류를 발견하고 자동으로 수정하는 반복 프로세스'
allowed-tools:
  [
    'mcp__playwright',
    'Bash(npm run dev:*)',
    'Bash(npm run build:*)',
    'Bash(curl:*)',
    'Read',
    'Edit',
    'Write',
    'Glob',
    'Grep',
    'mcp__ide__getDiagnostics',
  ]
---

# Claude 명령어: Sim Test

페이지를 자동으로 테스트하여 오류를 발견하고, 원인을 분석하여 개선한 후, 다시 테스트하는 반복적인 프로세스를 실행합니다.

## 사용법

```
/sim-test <페이지 URL 또는 경로>
```

예시:
```
/sim-test http://localhost:3000
/sim-test /about
/sim-test /login
```

## 프로세스

1. **초기 테스트**
   - 개발 서버가 실행 중인지 확인 (없으면 자동 실행)
   - Playwright로 지정된 페이지에 접속
   - 브라우저 스냅샷 및 스크린샷 캡처
   - 콘솔 에러, 네트워크 에러, 렌더링 문제 확인

2. **오류 분석**
   - 발견된 오류를 분류 (JavaScript 에러, 네트워크 에러, UI 문제 등)
   - 에러 메시지 및 스택 트레이스 분석
   - 관련 코드 파일 식별

3. **원인 진단**
   - 관련 소스 코드 읽기
   - 의존성 및 import 체인 확인
   - IDE 진단 정보 확인 (TypeScript 에러 등)

4. **개선 작업**
   - 식별된 문제를 수정
   - 코드 수정 시 기존 패턴 및 스타일 유지
   - 관련 파일들도 함께 업데이트

5. **재테스트**
   - 수정 후 페이지 다시 테스트
   - 새로운 오류 발생 여부 확인
   - 이전 오류가 해결되었는지 검증

6. **반복**
   - 오류가 남아있으면 2-5단계 반복
   - 모든 오류가 해결되거나 최대 반복 횟수(기본 5회)에 도달할 때까지 계속
   - 각 반복마다 진행 상황 보고

## 테스트 항목

### JavaScript 에러
- 콘솔에 출력된 에러 메시지
- Unhandled rejection
- Type 에러
- Reference 에러

### 네트워크 문제
- 404 Not Found
- 500 Server Error
- CORS 에러
- API 요청 실패

### 렌더링 이슈
- Hydration mismatch
- Missing 컴포넌트
- 깨진 이미지/리소스
- CSS 로딩 실패

### 성능 문제
- 느린 로딩 시간
- 큰 번들 크기
- 불필요한 리렌더링

### 접근성
- 누락된 alt 텍스트
- 잘못된 ARIA 속성
- 키보드 네비게이션 문제

## 옵션

### 최대 반복 횟수
기본값: 5회
```
최대 5번까지 오류 수정 시도
```

### 테스트 범위
- **단일 페이지**: 지정된 URL만 테스트
- **연관 페이지**: 링크된 페이지들도 함께 테스트 (선택 사항)

### 자동 빌드
- 오류 수정 후 프로덕션 빌드 실행하여 빌드 에러 확인
- TypeScript 타입 체크

## 보고서

각 테스트 반복 후 다음 정보를 제공합니다:

```
🔍 반복 1/5
✅ 해결된 오류: 2개
❌ 남은 오류: 1개
⚠️ 새로 발견된 문제: 0개

[상세 내용]
```

## 참고사항

- 개발 서버가 실행 중이지 않으면 자동으로 백그라운드에서 실행
- Playwright MCP를 사용하여 실제 브라우저 환경에서 테스트
- 각 수정 후 파일을 저장하고 개발 서버가 자동으로 재로드될 때까지 대기
- 복잡한 오류는 여러 단계로 나누어 해결
- 모든 오류를 자동으로 해결할 수 없는 경우 사용자에게 도움 요청
